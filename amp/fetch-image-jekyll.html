<!doctype html>
<html amp lang="en">
  <head>
    <meta charset="utf-8">
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <title>Grab Images from Jekyll Post</title>
    <link rel="canonical" href="https://blog.webjeda.com/fetch-image-jekyll/" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <style amp-custom>
        
          .container{max-width:600px;margin:0 auto;font-family:-apple-system,".SFNSText-Regular","San Francisco","Roboto","Segoe UI","Helvetica Neue","Lucida Grande",Arial,sans-serif;color:rgba(0,0,0,0.7)}.main-content{margin:0 10px}amp-img{max-width:100%}footer{text-align:center;padding:1em;background:#000;color:#eee}footer a{color:#eee}.date{color:#828282}.video{width:100%;height:515px}@media screen and (max-width: 600px){.video{height:250px}}.text-center{text-align:center}a .btn{background-color:transparent;border:1px solid #0a5;border-radius:2px;padding:10px 25px;cursor:pointer}a .btn:hover{background-color:#0a5;color:#eee}#markdown-toc::before{content:"Contents";font-weight:bold;line-height:1.8;font-size:20px}#markdown-toc ul{list-style:decimal}#markdown-toc{font-family:-apple-system,".SFNSText-Regular","San Francisco","Roboto","Segoe UI","Helvetica Neue","Lucida Grande",Arial,sans-serif;font-size:15.5px;border:1px solid #757575;padding:1.5em;padding-left:2em;list-style:decimal;display:inline-block;margin-right:2em}#markdown-toc a{text-decoration:none;border:none;color:cornflowerblue}#markdown-toc a:hover{color:rgba(0,0,0,0.7)}@media screen and (max-width: 600px){#markdown-toc{float:none;margin-right:0}}table{margin:15px 0;border-collapse:collapse;width:100%;padding:0}table tr{border-top:1px solid #777;background-color:white;margin:0;padding:0}table tr:nth-child(2n){background-color:#f8f8f8}table tr th{font-weight:bold;border:1px solid #777;text-align:left;margin:0;padding:6px 13px}table tr td{border:1px solid #777;text-align:left;margin:0;padding:6px 13px}table tr th :first-child,table tr td :first-child{margin:0}table tr th :last-child,table tr td :last-child{margin:0}.highlighter-rouge{font-size:15.5px;border:1px solid #e8e8e8;border-radius:4px;padding:2px 10px}@media screen and (max-width: 600px){.highlighter-rouge{font-size:10.85px}}.highlight{background:#fff;padding:5px 20px;border-radius:5px;box-shadow:inset 0 0 10px #f9f9f9, inset 0 0 15px #eaeaea;margin:0;font-size:15.5px}@media screen and (max-width: 600px){.highlight{font-size:10.85px;padding:5px 10px}}.highlight code,.highlight pre{border:none;box-shadow:none;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.highlight .c{color:#998;font-style:italic}.highlight .err{color:#a61717}.highlight .k{font-weight:bold}.highlight .o{font-weight:bold}.highlight .cm{color:#998;font-style:italic}.highlight .cp{color:#999;font-weight:bold}.highlight .c1{color:#998;font-style:italic}.highlight .cs{color:#999;font-weight:bold;font-style:italic}.highlight .gd{color:#555}.highlight .gd .x{color:#555}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#999}.highlight .gi{color:#555}.highlight .gi .x{color:#555}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:bold}.highlight .gu{color:#aaa}.highlight .gt{color:#a00}.highlight .kc{font-weight:bold}.highlight .kd{font-weight:bold}.highlight .kp{font-weight:bold}.highlight .kr{font-weight:bold}.highlight .kt{color:#458;font-weight:bold}.highlight .m{color:#099}.highlight .s{color:#d14}.highlight .na{color:#4747f5}.highlight .nb{color:#0086B3}.highlight .nc{color:#458;font-weight:bold}.highlight .no{color:#4747f5}.highlight .ni{color:purple}.highlight .ne{color:#900;font-weight:bold}.highlight .nf{color:#900;font-weight:bold}.highlight .nn{color:#555}.highlight .nt{color:#5e5ee6}.highlight .nv{color:#4747f5}.highlight .ow{font-weight:bold}.highlight .w{color:#bbb}.highlight .mf{color:#099}.highlight .mh{color:#099}.highlight .mi{color:#099}.highlight .mo{color:#099}.highlight .sb{color:#d14}.highlight .sc{color:#d14}.highlight .sd{color:#d14}.highlight .s2{color:#d14}.highlight .se{color:#d14}.highlight .sh{color:#d14}.highlight .si{color:#d14}.highlight .sx{color:#d14}.highlight .sr{color:#009926}.highlight .s1{color:#d14}.highlight .ss{color:#990073}.highlight .bp{color:#999}.highlight .vc{color:#4747f5}.highlight .vg{color:#4747f5}.highlight .vi{color:#4747f5}.highlight .il{color:#099}

          
    </style>
    
    
    
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async custom-element="amp-ad" src="https://cdn.ampproject.org/v0/amp-ad-0.1.js"></script>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    
  
    <!-- Open Graph -->
    <meta property="fb:app_id" content="549480635219583">
    <meta property="og:locale" content="en_US">
    <meta property="og:title" content="Grab Images from Jekyll Post">
    <meta property="og:url" content="https://blog.webjeda.comamp/fetch-image-jekyll">
    <meta property="og:site_name" content="WebJeda Blog">
    <meta property="og:description" content="Featured images in WordPress is something I always wanted for my Jekyll blog. I liked how images to show up on the index page automatically. But I had no idea how to fetch images from Jekyll posts. Jekyll post images can be fetched using this tutorial.">
    <meta property="og:type" content="article">
    <meta property="og:image" content="https://blog.webjeda.com/thumbs/how-to-fetch-images-from-jekyll-post.jpg" />
    <meta property="og:image:alt" content="Grab Images from Jekyll Post" />
    <meta property="article:publisher" content="http://www.facebook.com/webjeda" />
    <meta property="article:author" content="https://www.facebook.com/sharu725" />
    <meta property="article:published_time" content="2016-01-30 00:00:00 +0530" />


   <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:title" content="Grab Images from Jekyll Post">
    <meta name="twitter:description" content="Featured images in WordPress is something I always wanted for my Jekyll blog. I liked how images to show up on the index page automatically. But I had no idea how to fetch images from Jekyll posts. Jekyll post images can be fetched using this tutorial.">
    <meta name="twitter:site" content="@webjeda" />
    <meta name="twitter:creator" content="@sharathdt">
    <meta name="twitter:card" content="summary">

    <!-- Schema -->
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "TechArticle",
        "name": "Grab Images from Jekyll Post",
        "headline": "Grab Images from Jekyll Post",
        "image": "https://blog.webjeda.com/thumbs/how-to-fetch-images-from-jekyll-post.jpg",
        "description": "Featured images in WordPress is something I always wanted for my Jekyll blog. I liked how images to show up on the index page automatically. But I had no idea how to fetch images from Jekyll posts. Jekyll post images can be fetched using this tutorial.",
        "url": "https://blog.webjeda.comamp/fetch-image-jekyll",
        "datePublished": "2016-01-30",
         "author": {
          "@type": "Person",
          "name": "sharath.dt"
        }
      }
    </script>
    
    <!-- Disqus comments -->
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
    
    <script async custom-element="amp-youtube" src="https://cdn.ampproject.org/v0/amp-youtube-0.1.js"></script>
  </head>
  
<body>
<div class="container">
<div class="main-content">
<h1 class="post-title">Grab Images from Jekyll Post</h1>
<p class="date"><small>30 Jan 2016 - sharathdt</small></p>    
<amp-img src="https://blog.webjeda.com/thumbs/how-to-fetch-images-from-jekyll-post.jpg" alt="Grab Images from Jekyll Post" width="600" height="375" layout="responsive"><noscript><img src="https://blog.webjeda.com/thumbs/how-to-fetch-images-from-jekyll-post.jpg" alt="Grab Images from Jekyll Post" width="600" height="375"></noscript></amp-img>

<p class="intro">Featured images in WordPress is something I always wanted for my Jekyll blog. I liked how images to show up on the index page automatically. But I had no idea how to fetch images from Jekyll posts. Jekyll post images can be fetched using this tutorial.</p>

<p class="clear">If you observe this blog’s homepage, you’ll see that I have used a card-style container to fit in everything. It looks better with a proper shadow. Now my index page grabs the first image(now it uses a different way to fetch images) from my post and shows it in the list along with its title. The best part is that the images are grabbed automatically from every post of my Jekyll blog.</p>

<ul id="markdown-toc">
  <li><a href="#why-fetch-an-image-from-jekyll-post" id="markdown-toc-why-fetch-an-image-from-jekyll-post">Why fetch an image from Jekyll post?</a></li>
  <li><a href="#how-to-grab-the-first-image-in-jekyll" id="markdown-toc-how-to-grab-the-first-image-in-jekyll">How to grab the first image in Jekyll?</a></li>
  <li><a href="#love-for-jekyll-no-offense-wordpress" id="markdown-toc-love-for-jekyll-no-offense-wordpress">Love for Jekyll (no offense WordPress)</a></li>
</ul>

<h2 class="clear clear" id="why-fetch-an-image-from-jekyll-post">Why fetch an image from Jekyll post?</h2>
<p>I always wanted to have a homepage with a list of posts with their respective images. Just like a WordPress blog page. This seemed almost impossible in Jekyll. But I had hope.</p>

<p>Finally I stumbled across a <a href="http://stackoverflow.com/questions/25463865/in-jekyll-how-do-i-grab-a-posts-first-image" rel="nofollow" target="_blank">stackoverflow answer</a> that helped me achieve this. Now my post index includes tiny images fetched from the particular blog post. So here is how I made this possible.</p>

<h2 id="how-to-grab-the-first-image-in-jekyll">How to grab the first image in Jekyll?</h2>

<p>Here is the exact code mentioned in the answer. This will just give you a list of all the first images from all your posts. Make sure you do not have any other embedded video or flash(which has <code class="highlighter-rouge">src</code> attribute) file before your first image. This might result in a wrong behavior of the code. It may grab the video or some other file instead of the image.</p>

<p>What I suggest is to have an image at the very beginning of the post like I have in my posts or at least after a paragraph. Make sure it is not too wide or way too tall. I keep most of my featured images in <strong>800x500</strong> ratio.</p>

<amp-ad type="adsense" width="600" height="300" class="adclass adsbygoogle" data-ad-client="ca-pub-4146856286076977" data-ad-slot="9695384645"></amp-ad>

<p>Copy this code to your index page but keep a backup of your index file if the changes you make doesn’t work out. Make edits on this code in any way so as to get a list of posts along with <strong>post title</strong>, <strong>published date</strong>, <strong>post image</strong> and <strong>post author</strong>(if you have different authors writing for you). Present them the way you feel like.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;ul&gt;</span>
  {% for post in site.posts %}
    <span class="nt">&lt;li&gt;</span>
      {% assign foundImage = 0 %}
      {% assign images = post.content | split:"<span class="nt">&lt;img</span> <span class="err">"</span> <span class="err">%}</span>
      <span class="err">{%</span> <span class="na">for</span> <span class="na">image</span> <span class="na">in</span> <span class="na">images</span> <span class="err">%}</span>
        <span class="err">{%</span> <span class="na">if</span> <span class="na">image</span> <span class="na">contains</span> <span class="err">'</span><span class="na">src</span><span class="err">'</span> <span class="err">%}</span>

            <span class="err">{%</span> <span class="na">if</span> <span class="na">foundImage =</span><span class="s">=</span> <span class="na">0</span> <span class="err">%}</span>
                <span class="err">{%</span> <span class="na">assign</span> <span class="na">html =</span><span class="err"> </span><span class="s">image</span> <span class="err">|</span> <span class="na">split:</span><span class="err">"</span><span class="nt">/&gt;</span>" | first %}
                <span class="nt">&lt;img</span> <span class="err">{{</span> <span class="na">html</span> <span class="err">}}</span> <span class="nt">/&gt;</span>
                {% assign foundImage = 1 %}
            {% endif %}
        {% endif %}
      {% endfor %}

      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{ post.url }}"</span><span class="nt">&gt;</span>{{ post.title }}<span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;/li&gt;</span>
  {% endfor %}
<span class="nt">&lt;/ul&gt;</span></code></pre></figure>

<p>I have made changes to the above code to get a nice index of posts with title, date, image, and description. Here is the raw code that I have used.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">"posts"</span><span class="nt">&gt;</span>
    {% for post in paginator.posts %}
 <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{ post.url }}"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;li&gt;</span>
      <span class="nt">&lt;div&gt;</span>
        {% assign foundImage = 0 %}
          {% assign images = post.content | split:"<span class="nt">&lt;img</span> <span class="err">"</span> <span class="err">%}</span>
              <span class="err">{%</span> <span class="na">for</span> <span class="na">image</span> <span class="na">in</span> <span class="na">images</span> <span class="err">%}</span>
                <span class="err">{%</span> <span class="na">if</span> <span class="na">image</span> <span class="na">contains</span> <span class="err">'</span><span class="na">src</span><span class="err">'</span> <span class="err">%}</span>
                    <span class="err">{%</span> <span class="na">if</span> <span class="na">foundImage =</span><span class="s">=</span> <span class="na">0</span> <span class="err">%}</span>
                    <span class="err">{%</span> <span class="na">assign</span> <span class="na">html =</span><span class="err"> </span><span class="s">image</span> <span class="err">|</span> <span class="na">split:</span><span class="err">"</span><span class="nt">/&gt;</span>" | first %}
                    <span class="nt">&lt;time&gt;</span>{{ post.date | date:"%d %b %Y" }}<span class="nt">&lt;/time&gt;</span>
                    <span class="nt">&lt;h3&gt;</span>{{ post.title }}<span class="nt">&lt;/h3&gt;</span>
                    <span class="nt">&lt;hr&gt;</span>
                    <span class="nt">&lt;div&gt;&lt;img</span> <span class="na">width=</span><span class="s">"250"</span> <span class="err">{{</span> <span class="na">html</span> <span class="err">}}</span> <span class="nt">/&gt;</span>{{ post.desc }}<span class="nt">&lt;/div&gt;</span>
                     {% assign foundImage = 1 %}
                    {% endif %}
             {% endfor %}
        <span class="nt">&lt;/div&gt;</span>
     <span class="nt">&lt;/li&gt;</span>
 <span class="nt">&lt;/a&gt;</span>
    {% endif %} 
    {% endfor %}
<span class="nt">&lt;/ul&gt;</span></code></pre></figure>

<p>You may have to style it the way you want. I’m not providing the styling details but I hope you can figure that out. You can use w3-css for the card layout. It is also available from Bootstrap and Polymer. You can make your own raised box style by fiddling with box-shadow a little bit.</p>

<p><amp-img src="/images/how-to-grab-image-from-jekyll-post.jpg" alt="How to fetch image from jekyll" width="800" height="434" layout="responsive"><noscript><img src="/images/how-to-grab-image-from-jekyll-post.jpg" alt="How to fetch image from jekyll" width="800" height="434"></noscript></amp-img></p>

<h2 id="love-for-jekyll-no-offense-wordpress">Love for Jekyll (no offense WordPress)</h2>
<p>This feature gave me a hope that things are indeed possible with Jekyll. I see people migrating from Jekyll to WordPress for certain features. For instance <a href="https://codingtips.kanishkkunal.in/jekyll-to-wordpress/" rel="nofollow" target="_blank">kanishkkunal</a> who writes real good articles on Jekyll moved from Jekyll to WordPress. He has his reasons. But some writers(including myself) find Jekyll to be easier and comfortable than WordPress.</p>

<p>Writing a post in WordPress itself is a mess. I like to use a text editor like Brackets or Sublime to write my posts. I can always write in an editor and copy paste it to the WordPress editor page but it is not practical. On the bright side, Jekyll supports Markdown. I love it. It’s easy and editor-friendly. So I think I’m sticking with Jekyll for a long time. But again it depends on one’s priorities. There are not many plugins available for Jekyll.</p>

<p>If you have any feature that you think is only available in WordPress and cannot be implemented in Jekyll, please leave a comment. Maybe there is a solution that you are not aware of.</p>

<p>PS: Let me know if you have successfully implemented fetching images from Jekyll posts on your blog index.</p>

<p>Thanks for reading!</p>


<p class="text-center">
<a href="https://blog.webjeda.com/fetch-image-jekyll/#disqus_thread"><button class="btn">View/Add comments</button></a>
</p>
</div>
</div>
<footer>
    © copyrights by <a href="http://webjeda.com">webjeda</a>
</footer>
<amp-analytics type="googleanalytics">
<script type="application/json">
{
  "vars": {
    "account": "UA-71358787-1"
  },
  "triggers": {
    "trackPageview": {
      "on": "visible",
      "request": "pageview"
    }
  }
}
</script>
</amp-analytics>
</body>

</html>