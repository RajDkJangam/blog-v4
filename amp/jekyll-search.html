<!doctype html>
<html amp lang="en">
  <head>
    <meta charset="utf-8">
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <title>The easiest search option for Jekyll</title>
    <link rel="canonical" href="https://blog.webjeda.com/jekyll-search/" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <style amp-custom>
        
          .container{max-width:600px;margin:0 auto;font-family:-apple-system,".SFNSText-Regular","San Francisco","Roboto","Segoe UI","Helvetica Neue","Lucida Grande",Arial,sans-serif;color:rgba(0,0,0,0.7)}.main-content{margin:0 10px}amp-img{max-width:100%}footer{text-align:center;padding:1em;background:#000;color:#eee}footer a{color:#eee}.date{color:#828282}.video{width:100%;height:515px}@media screen and (max-width: 600px){.video{height:250px}}#markdown-toc::before{content:"Contents";font-weight:bold;line-height:1.8;font-size:20px}#markdown-toc ul{list-style:decimal}#markdown-toc{font-family:-apple-system,".SFNSText-Regular","San Francisco","Roboto","Segoe UI","Helvetica Neue","Lucida Grande",Arial,sans-serif;font-size:15.5px;border:1px solid #757575;padding:1.5em;padding-left:2em;list-style:decimal;display:inline-block;margin-right:2em}#markdown-toc a{text-decoration:none;border:none;color:cornflowerblue}#markdown-toc a:hover{color:rgba(0,0,0,0.7)}@media screen and (max-width: 600px){#markdown-toc{float:none;margin-right:0}}.highlighter-rouge{font-size:15.5px;border:1px solid #e8e8e8;border-radius:4px;padding:2px 10px}@media screen and (max-width: 600px){.highlighter-rouge{font-size:10.85px}}.highlight{background:#fff;padding:5px 20px;border-radius:5px;box-shadow:inset 0 0 10px #f9f9f9, inset 0 0 15px #eaeaea;margin:0;font-size:15.5px}@media screen and (max-width: 600px){.highlight{font-size:10.85px;padding:5px 10px}}.highlight code,.highlight pre{border:none;box-shadow:none;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.highlight .c{color:#998;font-style:italic}.highlight .err{color:#a61717}.highlight .k{font-weight:bold}.highlight .o{font-weight:bold}.highlight .cm{color:#998;font-style:italic}.highlight .cp{color:#999;font-weight:bold}.highlight .c1{color:#998;font-style:italic}.highlight .cs{color:#999;font-weight:bold;font-style:italic}.highlight .gd{color:#555}.highlight .gd .x{color:#555}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#999}.highlight .gi{color:#555}.highlight .gi .x{color:#555}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:bold}.highlight .gu{color:#aaa}.highlight .gt{color:#a00}.highlight .kc{font-weight:bold}.highlight .kd{font-weight:bold}.highlight .kp{font-weight:bold}.highlight .kr{font-weight:bold}.highlight .kt{color:#458;font-weight:bold}.highlight .m{color:#099}.highlight .s{color:#d14}.highlight .na{color:#4747f5}.highlight .nb{color:#0086B3}.highlight .nc{color:#458;font-weight:bold}.highlight .no{color:#4747f5}.highlight .ni{color:purple}.highlight .ne{color:#900;font-weight:bold}.highlight .nf{color:#900;font-weight:bold}.highlight .nn{color:#555}.highlight .nt{color:#5e5ee6}.highlight .nv{color:#4747f5}.highlight .ow{font-weight:bold}.highlight .w{color:#bbb}.highlight .mf{color:#099}.highlight .mh{color:#099}.highlight .mi{color:#099}.highlight .mo{color:#099}.highlight .sb{color:#d14}.highlight .sc{color:#d14}.highlight .sd{color:#d14}.highlight .s2{color:#d14}.highlight .se{color:#d14}.highlight .sh{color:#d14}.highlight .si{color:#d14}.highlight .sx{color:#d14}.highlight .sr{color:#009926}.highlight .s1{color:#d14}.highlight .ss{color:#990073}.highlight .bp{color:#999}.highlight .vc{color:#4747f5}.highlight .vg{color:#4747f5}.highlight .vi{color:#4747f5}.highlight .il{color:#099}

    </style>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async custom-element="amp-ad" src="https://cdn.ampproject.org/v0/amp-ad-0.1.js"></script>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    
  
    <!-- Open Graph -->
    <meta property="fb:app_id" content="549480635219583">
    <meta property="og:locale" content="en_US">
    <meta property="og:title" content="The easiest search option for Jekyll">
    <meta property="og:url" content="https://blog.webjeda.comamp/jekyll-search">
    <meta property="og:site_name" content="WebJeda Blog">
    <meta property="og:description" content="A robust search bar can be installed for a Jekyll site using many ways. But I'm discussing the easiest one here. We are using Google's custom search engine which doesn't add any overhead to our website.">
    <meta property="og:type" content="article">
    <meta property="og:image" content="https://blog.webjeda.com/thumbs/jekyll-search-option.png" />
    <meta property="og:image:alt" content="The easiest search option for Jekyll" />
    <meta property="article:publisher" content="http://www.facebook.com/webjeda" />
    <meta property="article:author" content="https://www.facebook.com/sharu725" />
    <meta property="article:published_time" content="2016-07-18 00:00:00 +0530" />


   <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:title" content="The easiest search option for Jekyll">
    <meta name="twitter:description" content="A robust search bar can be installed for a Jekyll site using many ways. But I'm discussing the easiest one here. We are using Google's custom search engine which doesn't add any overhead to our website.">
    <meta name="twitter:site" content="@webjeda" />
    <meta name="twitter:creator" content="@sharathdt">
    <meta name="twitter:card" content="summary">

    <!-- Schema -->
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "TechArticle",
        "name": "The easiest search option for Jekyll",
        "headline": "The easiest search option for Jekyll",
        "image": "https://blog.webjeda.com/thumbs/jekyll-search-option.png",
        "description": "A robust search bar can be installed for a Jekyll site using many ways. But I'm discussing the easiest one here. We are using Google's custom search engine which doesn't add any overhead to our website.",
        "url": "https://blog.webjeda.comamp/jekyll-search",
        "datePublished": "2016-07-18",
         "author": {
          "@type": "Person",
          "name": "sharath.dt"
        }
      }
    </script>
    
    <!-- Disqus comments -->
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>

    
  </head>
  
<body>
<div class="container">
<div class="main-content">
<h1 class="post-title">The easiest search option for Jekyll</h1>
<p class="date"><small>18 Jul 2016 - sharathdt</small></p>    
<amp-img src="https://blog.webjeda.com/thumbs/jekyll-search-option.png" alt="The easiest search option for Jekyll" width="600" height="375" layout="responsive"><noscript><img src="https://blog.webjeda.com/thumbs/jekyll-search-option.png" alt="The easiest search option for Jekyll" width="600" height="375"></noscript></amp-img>

<p class="intro">A robust search bar can be installed for a Jekyll site using many ways. But I'm discussing the easiest one here. We are using Google's custom search engine which doesn't add any overhead to our website.</p>

<h2 id="why-do-we-need-a-search-option">Why do we need a search option?</h2>
<p>Having a search bar in your Jekyll blog helps users to find the data using keywords. You may think that having an <strong>archive</strong> page would suffice but it is not enough. For example, if a user of my blog wants to know <strong>how to setup CloudFlare with his website</strong>. He will not find anything remotely close in my archive page but if he types <strong>CloudFlare</strong> in the search page then he will get <a href="https://www.google.com/url?q=http://blog.webjeda.com/jekyll-ssl/" target="_blank">SSL certificate (https) for Jekyll</a> as the first result. I have mentioned the required steps inside that post.</p>

<p>This is just an example in the case of a blog. Websites can be of different kinds. Sometimes websites may offer location search, image search or any type of media search. The search bar is like a personal search engine for the website.</p>

<ul id="markdown-toc">
  <li><a href="#why-do-we-need-a-search-option" id="markdown-toc-why-do-we-need-a-search-option">Why do we need a search option?</a></li>
  <li>
<a href="#how-to-implement-a-search-bar-on-jekyll" id="markdown-toc-how-to-implement-a-search-bar-on-jekyll">How to implement a search bar on Jekyll</a>    <ul>
      <li>
<a href="#lunrjs-free---demo" id="markdown-toc-lunrjs-free---demo">Lunr.js (free) - </a><a href="https://olivernn.github.io/moonwalkers/" target="_blank" rel="nofollow">Demo</a>
</li>
      <li>
<a href="#algolia-freemium---demo" id="markdown-toc-algolia-freemium---demo">Algolia (freemium) - </a><a href="http://fontawesome.io/icons//" target="_blank" rel="nofollow">Demo</a>
</li>
      <li>
<a href="#swiftype-paid---demo" id="markdown-toc-swiftype-paid---demo">Swiftype (paid) - </a><a href="http://wholebodyresearch.com/" target="_blank" rel="nofollow">Demo</a>
</li>
      <li>
<a href="#google-cse-free---demo" id="markdown-toc-google-cse-free---demo">Google CSE (free) - </a><a href="/search" target="_blank">Demo</a>
</li>
    </ul>
  </li>
  <li>
<a href="#installing-google-custom-search-on-jekyll" id="markdown-toc-installing-google-custom-search-on-jekyll">Installing Google custom search on Jekyll</a>    <ul>
      <li><a href="#create-a-custom-search-engine" id="markdown-toc-create-a-custom-search-engine">Create a custom search engine</a></li>
      <li><a href="#get-code" id="markdown-toc-get-code">Get code</a></li>
      <li><a href="#paste-the-code-in-your-website" id="markdown-toc-paste-the-code-in-your-website">Paste the code in your website</a></li>
    </ul>
  </li>
  <li><a href="#conclusion" id="markdown-toc-conclusion">Conclusion</a></li>
</ul>

<amp-ad type="adsense" width="300" height="250" class="adclass adsbygoogle" data-ad-client="ca-pub-4146856286076977" data-ad-slot="9695384645"></amp-ad>

<h2 id="how-to-implement-a-search-bar-on-jekyll">How to implement a search bar on Jekyll</h2>
<p>As per the title, I should be discussing the easiest one but I will introduce other search options as well. You may be expecting a search engine with instant results or auto complete capability. That depends on the website. It is good if a website with location search bar has an auto-complete option because users may enter all kinds of spelling mistakes. Auto-complete avoids all those mistakes from happening.</p>

<p>So without further ado let’s get into the types.</p>

<h3 id="lunrjs-free---demo">Lunr.js (free) - <a href="https://olivernn.github.io/moonwalkers/" target="_blank" rel="nofollow">Demo</a>
</h3>

<h3 id="algolia-freemium---demo">Algolia (freemium) - <a href="http://fontawesome.io/icons//" target="_blank" rel="nofollow">Demo</a>
</h3>

<h3 id="swiftype-paid---demo">Swiftype (paid) - <a href="http://wholebodyresearch.com/" target="_blank" rel="nofollow">Demo</a>
</h3>

<h3 id="google-cse-free---demo">Google CSE (free) - <a href="/search" target="_blank">Demo</a>
</h3>

<p>All are good and may fulfill most of your ‘search’ needs. But installation is a little tricky for some of them. You may have to include a <code class="highlighter-rouge">JavaScript</code> file, create a <code class="highlighter-rouge">JSON</code> file, style your own search box etc.</p>

<p><strong>Google Custom Search Engine</strong> has the least number of steps. Also, it doesn’t add any overhead to your server as google handles everything from its end. It is more like a google search result on your website but only with your site-links in the search result.</p>

<p><amp-img src="/images/google-custom-search-engine-jekyll.png" alt="Google custom search engine Jekyll" width="884" height="485" layout="responsive"><noscript><img src="/images/google-custom-search-engine-jekyll.png" alt="Google custom search engine Jekyll" width="884" height="485"></noscript></amp-img></p>

<h2 id="installing-google-custom-search-on-jekyll">Installing Google custom search on Jekyll</h2>

<h3 id="create-a-custom-search-engine">Create a custom search engine</h3>

<p class="right half"><amp-img src="/images/sign-up-google-cse-jekyll.png" alt="Sign up google cse Jekyll" width="383" height="593" layout="responsive"><noscript><img src="/images/sign-up-google-cse-jekyll.png" alt="Sign up google cse Jekyll" width="383" height="593"></noscript></amp-img></p>

<p>You will need a Gmail account for this. Login and go to <a href="https://cse.google.com" target="_blank" rel="nofollow">Google CSE</a>. Fill up the necessary fields and click on <strong>Create</strong>.</p>

<p>The best part here is that it allows us to add more websites! If you have a bunch of websites then you can add them all to the Google CSE. When a user searches for a keyword, CSE will look for pages in all the websites and show results from them.</p>

<p>If you have many subdomains then use <code class="highlighter-rouge">*.yourdomain.com</code> which will include all the subdomains. And as usual, read the complete <strong>Terms of Service</strong> before hitting create :)</p>

<h3 class="clear" id="get-code">Get code</h3>
<p>Once you create a custom search engine, click on <strong>Get code</strong>. You should see a code block like this. This is your search bar.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script&gt;</span>
  <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="s1">'000124122121016203706:yoijr22b2m8'</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">gcse</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'script'</span><span class="p">);</span>
    <span class="nx">gcse</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s1">'text/javascript'</span><span class="p">;</span>
    <span class="nx">gcse</span><span class="p">.</span><span class="nx">async</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nx">gcse</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s1">'https://cse.google.com/cse.js?cx='</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'script'</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
    <span class="nx">s</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">gcse</span><span class="p">,</span> <span class="nx">s</span><span class="p">);</span>
  <span class="p">})();</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;gcse:search&gt;&lt;/gcse:search&gt;</span></code></pre></figure>

<h3 id="paste-the-code-in-your-website">Paste the code in your website</h3>
<p>Copy the code and paste it wherever you want the search bar to appear. You can customize the look and feel of the search bar as well as the layout for search results.</p>

<p><amp-img src="/images/jekyll-search-google-custom-search-engine-design.png" alt="Jekyll search google custom search engine design" width="800" height="275" layout="responsive"><noscript><img src="/images/jekyll-search-google-custom-search-engine-design.png" alt="Jekyll search google custom search engine design" width="800" height="275"></noscript></amp-img></p>

<p>That was simple, isn’t it? I’m using Google custom search engine on my Jekyll blog because even the famous <a href="https://moz.com/pages/search_results" target="_blank" rel="nofollow">moz.com</a> is using it. I’m not sure if it is helpful for SEO but I’m pretty happy with it.</p>

<p>The search results look very much like google search results but you can customize it however you want to. I like the feature where the search result shows a small thumbnail along with title and description.</p>

<p>With an approved AdSense account, you can also earn when someone uses your custom search engine. If you look at the first screenshot, you will notice that the first result is from CloudFlare. It is an ad!</p>

<p>Another advantage is that the users will feel comfortable using it because it is so much like Google search. When I was new to web designing I used to think that the website owners have some kind of tie up with Google and so Google has offered them a personal search!</p>

<p>Though Google has an option to design your own custom search bar, you can further change the look of the search bar using some CSS. One thing I wanted was to remove the default Google logo on Google CSE search bar. I don’t think it is legal to do so. But I will keep it this way until google tells me not to. So if you want a cleaner and blank search bar then find its <strong>id</strong> and <strong>classes</strong> of your search-bar <code class="highlighter-rouge">&lt;input&gt;</code> tag and use this CSS</p>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">input</span><span class="nf">#gsc-i-id1</span><span class="nc">.gsc-input</span> <span class="p">{</span>
    <span class="nl">background</span><span class="p">:</span> <span class="nb">none</span> <span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>Check out my Jekyll blog’s search page. I haven’t enabled auto-complete yet. I will do it once I have enough content. There is a reason why I have search bar in a different page instead of having it on all the pages. I do not want one extra script loading on all of my pages. Users who actually use search will find it somehow but for a user who’s on my website for one little thing shouldn’t feel that the site loads very slow. So Google CSE script loads only on my <a href="/search/" target="_blank"><strong>Search</strong></a> page.</p>

<amp-ad type="adsense" width="300" height="250" class="adclass2 adsbygoogle" data-ad-client="ca-pub-4146856286076977" data-ad-slot="8755205041"></amp-ad>

<p>There is a significant delay in loading the script. Maybe because it loads all the assets through the script. So whenever someone visited the search page, they used to see nothing initially. Then after a second or two, the search bar would appear. This time-frame is crucial. many users may leave right after they see a blank page. I had to keep them waiting.</p>

<p>A good way to tackle this problem is by asking them to wait! I made some changes to the code in my Jekyll blog so that when the search bar is still downloading its assets, I will show a message saying <strong>“Loading… please wait”</strong> or something similar and when the search bar loads, the message goes away.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script&gt;</span>
  <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="s1">'000124122121016203706:yoijr22b2m8'</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">gcse</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'script'</span><span class="p">);</span>
    <span class="nx">gcse</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s1">'text/javascript'</span><span class="p">;</span>
    <span class="nx">gcse</span><span class="p">.</span><span class="nx">async</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nx">gcse</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s1">'https://cse.google.com/cse.js?cx='</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'script'</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
    <span class="nx">s</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">gcse</span><span class="p">,</span> <span class="nx">s</span><span class="p">);</span>
  <span class="p">})();</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;gcse:search&gt;</span>Loading. . Please wait<span class="nt">&lt;/gcse:search&gt;</span></code></pre></figure>

<p>That is it!</p>

<p>I prefer showing results on the same page below the search bar just how google does it. You have many options on how to show the search results. Most WordPress bloggers use layover layout as it shows results on a pop-up kind of layout which doesn’t make any change to the website layout. You can also have a search bar on the sidebar and results on the main page. Choose the one that suits your needs.</p>

<p>What I find lacking in Google CSE is instant search. Let’s hope google does that for us. Then it won’t be any less than lunrjs search option.</p>

<h2 id="conclusion">Conclusion</h2>
<p>Google CSE is a wise choice for those who want a simple robust and clean search option with no extra script loading on their website(if they’re are using it on a new page). I suggest this search for bloggers who are new to Jekyll or web designing in particular.</p>

<p>Let me know if you face any issue isntalling Google CSE on your Jekyll blog. If I have missed something, please suggest on the comment section.</p>

<p>Thanks for reading!</p>


<amp-iframe width="600" height="300"
            layout="responsive"
            sandbox="allow-scripts allow-same-origin allow-modals allow-popups allow-forms"
            resizable
            src="https://jekyll-themes.com/disqus-for-wj.html">
            <div overflow></div>
</amp-iframe>

</div>
</div>
<footer>
    © copyrights by <a href="http://webjeda.com">webjeda</a>
</footer>
<amp-analytics type="googleanalytics">
<script type="application/json">
{
  "vars": {
    "account": "UA-71358787-1"
  },
  "triggers": {
    "trackPageview": {
      "on": "visible",
      "request": "pageview"
    }
  }
}
</script>
</amp-analytics>
</body>

</html>