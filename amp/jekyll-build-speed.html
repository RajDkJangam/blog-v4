<!doctype html>
<html amp lang="en">
  <head>
    <meta charset="utf-8">
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <title>Increase Jekyll Build Speed</title>
    <link rel="canonical" href="https://blog.webjeda.com/jekyll-build-speed/" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <style amp-custom>
        
          .container{max-width:600px;margin:0 auto;font-family:-apple-system,".SFNSText-Regular","San Francisco","Roboto","Segoe UI","Helvetica Neue","Lucida Grande",Arial,sans-serif;color:rgba(0,0,0,0.7)}.main-content{margin:0 10px}amp-img{max-width:100%}footer{text-align:center;padding:1em;background:#000;color:#eee}footer a{color:#eee}.date{color:#828282}.video{width:100%;height:515px}@media screen and (max-width: 600px){.video{height:250px}}.text-center{text-align:center}a .btn{background-color:transparent;border:1px solid #0a5;border-radius:2px;padding:10px 25px;cursor:pointer}a .btn:hover{background-color:#0a5;color:#eee}#markdown-toc::before{content:"Contents";font-weight:bold;line-height:1.8;font-size:20px}#markdown-toc ul{list-style:decimal}#markdown-toc{font-family:-apple-system,".SFNSText-Regular","San Francisco","Roboto","Segoe UI","Helvetica Neue","Lucida Grande",Arial,sans-serif;font-size:15.5px;border:1px solid #757575;padding:1.5em;padding-left:2em;list-style:decimal;display:inline-block;margin-right:2em}#markdown-toc a{text-decoration:none;border:none;color:cornflowerblue}#markdown-toc a:hover{color:rgba(0,0,0,0.7)}@media screen and (max-width: 600px){#markdown-toc{float:none;margin-right:0}}table{margin:15px 0;border-collapse:collapse;width:100%;padding:0}table tr{border-top:1px solid #777;background-color:white;margin:0;padding:0}table tr:nth-child(2n){background-color:#f8f8f8}table tr th{font-weight:bold;border:1px solid #777;text-align:left;margin:0;padding:6px 13px}table tr td{border:1px solid #777;text-align:left;margin:0;padding:6px 13px}table tr th :first-child,table tr td :first-child{margin:0}table tr th :last-child,table tr td :last-child{margin:0}.highlighter-rouge{font-size:15.5px;border:1px solid #e8e8e8;border-radius:4px;padding:2px 10px}@media screen and (max-width: 600px){.highlighter-rouge{font-size:10.85px}}.highlight{background:#fff;padding:5px 20px;border-radius:5px;box-shadow:inset 0 0 10px #f9f9f9, inset 0 0 15px #eaeaea;margin:0;font-size:15.5px}@media screen and (max-width: 600px){.highlight{font-size:10.85px;padding:5px 10px}}.highlight code,.highlight pre{border:none;box-shadow:none;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.highlight .c{color:#998;font-style:italic}.highlight .err{color:#a61717}.highlight .k{font-weight:bold}.highlight .o{font-weight:bold}.highlight .cm{color:#998;font-style:italic}.highlight .cp{color:#999;font-weight:bold}.highlight .c1{color:#998;font-style:italic}.highlight .cs{color:#999;font-weight:bold;font-style:italic}.highlight .gd{color:#555}.highlight .gd .x{color:#555}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#999}.highlight .gi{color:#555}.highlight .gi .x{color:#555}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:bold}.highlight .gu{color:#aaa}.highlight .gt{color:#a00}.highlight .kc{font-weight:bold}.highlight .kd{font-weight:bold}.highlight .kp{font-weight:bold}.highlight .kr{font-weight:bold}.highlight .kt{color:#458;font-weight:bold}.highlight .m{color:#099}.highlight .s{color:#d14}.highlight .na{color:#4747f5}.highlight .nb{color:#0086B3}.highlight .nc{color:#458;font-weight:bold}.highlight .no{color:#4747f5}.highlight .ni{color:purple}.highlight .ne{color:#900;font-weight:bold}.highlight .nf{color:#900;font-weight:bold}.highlight .nn{color:#555}.highlight .nt{color:#5e5ee6}.highlight .nv{color:#4747f5}.highlight .ow{font-weight:bold}.highlight .w{color:#bbb}.highlight .mf{color:#099}.highlight .mh{color:#099}.highlight .mi{color:#099}.highlight .mo{color:#099}.highlight .sb{color:#d14}.highlight .sc{color:#d14}.highlight .sd{color:#d14}.highlight .s2{color:#d14}.highlight .se{color:#d14}.highlight .sh{color:#d14}.highlight .si{color:#d14}.highlight .sx{color:#d14}.highlight .sr{color:#009926}.highlight .s1{color:#d14}.highlight .ss{color:#990073}.highlight .bp{color:#999}.highlight .vc{color:#4747f5}.highlight .vg{color:#4747f5}.highlight .vi{color:#4747f5}.highlight .il{color:#099}

          
    </style>
    
    
    
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async custom-element="amp-ad" src="https://cdn.ampproject.org/v0/amp-ad-0.1.js"></script>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    
  
    <!-- Open Graph -->
    <meta property="fb:app_id" content="549480635219583">
    <meta property="og:locale" content="en_US">
    <meta property="og:title" content="Increase Jekyll Build Speed">
    <meta property="og:url" content="https://blog.webjeda.comamp/jekyll-build-speed">
    <meta property="og:site_name" content="WebJeda Blog">
    <meta property="og:description" content="Jekyll build speed slows down with the increase in the number of files, posts, images etc.. Jekyll community is trying hard to mitigate the high build time. I will be discussing a few methods on how to increase jekyll build speed.">
    <meta property="og:type" content="article">
    <meta property="og:image" content="https://blog.webjeda.com/thumbs/jekyll-build-speed.png" />
    <meta property="og:image:alt" content="Increase Jekyll Build Speed" />
    <meta property="article:publisher" content="http://www.facebook.com/webjeda" />
    <meta property="article:author" content="https://www.facebook.com/sharu725" />
    <meta property="article:published_time" content="2017-03-15 00:00:00 +0530" />


   <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:title" content="Increase Jekyll Build Speed">
    <meta name="twitter:description" content="Jekyll build speed slows down with the increase in the number of files, posts, images etc.. Jekyll community is trying hard to mitigate the high build time. I will be discussing a few methods on how to increase jekyll build speed.">
    <meta name="twitter:site" content="@webjeda" />
    <meta name="twitter:creator" content="@sharathdt">
    <meta name="twitter:card" content="summary">

    <!-- Schema -->
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "TechArticle",
        "name": "Increase Jekyll Build Speed",
        "headline": "Increase Jekyll Build Speed",
        "image": "https://blog.webjeda.com/thumbs/jekyll-build-speed.png",
        "description": "Jekyll build speed slows down with the increase in the number of files, posts, images etc.. Jekyll community is trying hard to mitigate the high build time. I will be discussing a few methods on how to increase jekyll build speed.",
        "url": "https://blog.webjeda.comamp/jekyll-build-speed",
        "datePublished": "2017-03-15",
         "author": {
          "@type": "Person",
          "name": "sharath.dt"
        }
      }
    </script>
    
    <!-- Disqus comments -->
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
    
    <script async custom-element="amp-youtube" src="https://cdn.ampproject.org/v0/amp-youtube-0.1.js"></script>
  </head>
  
<body>
<div class="container">
<div class="main-content">
<h1 class="post-title">Increase Jekyll Build Speed</h1>
<p class="date"><small>15 Mar 2017 - sharathdt</small></p>    
<amp-img src="https://blog.webjeda.com/thumbs/jekyll-build-speed.png" alt="Increase Jekyll Build Speed" width="600" height="375" layout="responsive"><noscript><img src="https://blog.webjeda.com/thumbs/jekyll-build-speed.png" alt="Increase Jekyll Build Speed" width="600" height="375"></noscript></amp-img>

<p class="intro">Jekyll build speed slows down with the increase in the number of files, posts, images etc.. Jekyll community is trying hard to mitigate the high build time. I will be discussing a few methods on how to increase jekyll build speed.</p>

<p>Jekyll build speed is an important aspect in my blog because, after publishing some 20 articles, Jekyll used to take around 30 seconds to build this website! That is more than what it takes to make an omelette. Build time started to grow gradually as and when I started adding new features and I got really fed up once it reached 8 minutes!</p>

<p>Jekyll is super fast when it comes to sites with a few pages. It tends to slow down when the number of files increases and when complex Liquid conditions are executed frequently. The files usually cause this delay are posts, images, collections etc..</p>

<ul id="markdown-toc">
  <li><a href="#exclude-files-that-are-not-required" id="markdown-toc-exclude-files-that-are-not-required">Exclude files that are not required</a></li>
  <li><a href="#keep_files-that-are-required-as-is" id="markdown-toc-keep_files-that-are-required-as-is">Keep_files that are required as-is</a></li>
  <li><a href="#test-jekyll-build-speed" id="markdown-toc-test-jekyll-build-speed">Test Jekyll Build Speed</a></li>
  <li><a href="#use-jekyll-incremental-build" id="markdown-toc-use-jekyll-incremental-build">Use Jekyll incremental build</a></li>
  <li><a href="#let-jekyll-build-only-the-necessary-posts" id="markdown-toc-let-jekyll-build-only-the-necessary-posts">Let Jekyll build only the necessary posts</a></li>
  <li><a href="#conclusion" id="markdown-toc-conclusion">Conclusion</a></li>
</ul>

<p>Jekyll is trying hard to decrease the build time since the inception. One of those measures was using incremental build. In <strong>incremental build</strong>, Jekyll watches only for the files which are changed, not everything. This works well if a site is simple. Imagine you change something on the <code class="highlighter-rouge">default.html</code> layout, then the build time again increases because that layout is used for every single post and every single page.</p>

<amp-ad type="adsense" width="600" height="300" class="adclass adsbygoogle" data-ad-client="ca-pub-4146856286076977" data-ad-slot="9695384645"></amp-ad>

<p>Before we jump right into the methods, let’s discuss some precautions that may reduce the build time drastically.</p>

<h2 id="exclude-files-that-are-not-required">Exclude files that are not required</h2>
<p>I see that some people use task runners like grunt, gulp or others which make use of <code class="highlighter-rouge">node-modules</code>. Node will create a folder in the repository with the same name and this folder is a mess. I think the movie Inception was simpler than this folder nest.</p>

<p>This folder is important for task-runners but not required for Jekyll to build the site. So exclude anything that isn’t important. Use <code class="highlighter-rouge">exclude</code> in <code class="highlighter-rouge">_config.yml</code>.</p>

<figure class="highlight"><pre><code class="language-yml" data-lang="yml"><span class="s">exclude</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">node_modules</span><span class="pi">,</span> <span class="nv">README.md</span><span class="pi">]</span></code></pre></figure>

<h2 id="keep_files-that-are-required-as-is">Keep_files that are required as-is</h2>
<p>Your site maybe using some static files and they should be copied as-is while building the site. For example <code class="highlighter-rouge">images</code> folder. Jekyll has nothing to do with those images. Static files that do not need any Jekyll intervention can be kept as-is using these parameters in the configuration.</p>

<figure class="highlight"><pre><code class="language-yml" data-lang="yml"><span class="s">keep_files</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">images</span><span class="pi">]</span></code></pre></figure>

<h2 id="test-jekyll-build-speed">Test Jekyll Build Speed</h2>

<p>Now that we have retained only the required files for Jekyll to render, we should check if there is a slowdown in the speed while Jekyll is performing the conversion.</p>

<p>If you have too many nested liquid tags then the build time will increase drastically. Jekyll slows down while building if you are using too many includes.</p>

<p>What I suggest is to reduce the usage of <strong>includes</strong>. If any included file has a liquid condition, then the jekyll build speed increases.</p>

<p>Consider my website for example. I have too many files inside <code class="highlighter-rouge">_includes</code>(but not using all of them) and I also use <code class="highlighter-rouge">compress html</code>. This is a layout used to minify HTML. It has too many liquid tags in it. This takes a considerable amount of time (around a second) for the completion.</p>

<p>Run below Liquid Profiler command to check which liquid syntax execution is taking too much time.</p>

<figure class="highlight"><pre><code class="language-yml" data-lang="yml"><span class="s">jekyll serve --profile</span></code></pre></figure>

<amp-ad type="adsense" width="600" height="300" class="adclass2 adsbygoogle" data-ad-client="ca-pub-4146856286076977" data-ad-slot="8755205041"></amp-ad>

<p>It should output a table as shown below. This will give you a fair idea on what might be going wrong. If a file is taking too many seconds to execute then you should try to carefully examine that file for any nesting of liquid syntax.</p>

<figure class="highlight"><pre><code class="language-yml" data-lang="yml"><span class="s">Filename                                       | Count |    Bytes |  Time</span>
<span class="s">---------------------------------------------- +-------+----------+------</span>

<span class="s">_posts/2016-05-27-jekyll-collections.md        |     1 |   13.63K | 0.008</span>
<span class="s">_posts/2016-07-21-better-related-posts.md      |     1 |   13.70K | 0.008</span>
<span class="s">_posts/2017-03-15-speed-up-jekyll-build.md     |     1 |    7.28K | 0.007</span>
<span class="s">_posts/2016-01-20-how-to-add-share-buttons-to- |     1 |   13.02K | 0.007</span>
<span class="s">_posts/2016-11-12-dark-theme-switch.md         |     1 |   11.99K | 0.007</span>
<span class="s">_posts/2016-04-27-jekyll-speed.md              |     1 |   28.40K | 0.007</span>
<span class="s">_posts/2016-07-18-jekyll-search.md             |     1 |   11.81K | 0.006</span>
<span class="s">_pages/jekyll-themes.md                        |     1 |    8.12K | 0.006</span>
<span class="s">_posts/2016-08-10-common-jekyll-issues.md      |     1 |   12.83K | 0.006</span>
<span class="s">_includes/google-tag-manager-head.html         |    75 |   31.49K | 0.006</span>
<span class="s">_posts/2016-12-20-jekyll-liquid-common-tags.md |     1 |   12.84K | 0.005</span>
<span class="s">_posts/2016-01-25-an-easy-way-to-edit-posts-in |     1 |    7.48K | 0.005</span>
<span class="s">_posts/2016-08-30-jekyll-admin.md              |     1 |    6.92K | 0.005</span></code></pre></figure>

<h2 id="use-jekyll-incremental-build">Use Jekyll incremental build</h2>
<p>Building the site from the scratch everytime is not practical. This is why Jekyll provides an option for an incremental build which converts only the files that are changed. This way the jekyll build speed can be increased in multiple folds.</p>

<p><a href="https://jekyllrb.com/news/2015/10/26/jekyll-3-0-released/">Incremental build</a></p>

<p>The initial release of the incremental build was not so efficient, but recent releases work fairly good. Jekyll is making a lot of improvements. Maybe some day it can compete with the build speeds of Hugo(very optimistic!)</p>

<p>Use the command below for incremental build</p>

<figure class="highlight"><pre><code class="language-yml" data-lang="yml"><span class="s">jekyll serve -I</span></code></pre></figure>

<p>or</p>

<figure class="highlight"><pre><code class="language-yml" data-lang="yml"><span class="s">jekyll serve --incremental</span></code></pre></figure>

<p>Compare the incremental build speed with normal build speed check if it has improved anything. Many times, I had no luck with this method. If none of that works then follow the last method.</p>

<h2 id="let-jekyll-build-only-the-necessary-posts">Let Jekyll build only the necessary posts</h2>
<p>If your site has too many articles, you may find this method very useful. Some people with 100s of posts have a hard time building their Jekyll site locally. In those situations, you can build only the last post! This can be used even while editing the site layout or pages.</p>

<figure class="highlight"><pre><code class="language-yml" data-lang="yml"><span class="s">jekyll serve --watch --limit_posts 1</span></code></pre></figure>

<h2 id="conclusion">Conclusion</h2>
<p>When compared to Hugo or Gatsby, Jekyll build speed is really slow. But it is changing. Jekyll is making leaps in decreasing build time. Until then I hope these hotfixes will help you stick to Jekyll and not switch to other platforms.</p>

<p>If you have a better way to increase jekyll build speed, then please suggest it in the comment section. Also, watch this video of Parker explaining the new features in Jekyll 3.4, Incremental build, Liquid Profiler etc..</p>

<amp-youtube data-videoid="sPZK8w55cBQ" layout="responsive" width="600" height="300">
    </amp-youtube>



<p class="text-center">
<a href="https://blog.webjeda.com/jekyll-build-speed/#disqus_thread"><button class="btn">View/Add comments</button></a>
</p>
</div>
</div>
<footer>
    © copyrights by <a href="http://webjeda.com">webjeda</a>
</footer>
<amp-analytics type="googleanalytics">
<script type="application/json">
{
  "vars": {
    "account": "UA-71358787-1"
  },
  "triggers": {
    "trackPageview": {
      "on": "visible",
      "request": "pageview"
    }
  }
}
</script>
</amp-analytics>
</body>

</html>